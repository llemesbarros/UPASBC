<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAJ6TrAFy+8QCC0vgA7+/vAC6n7ACE0/gAS2RuAKbU5QDAwMAAv+3+ACek6gApoeYAAAAAAAAAAAAAAAAARERERERERABEREREREREAEREREREREQAREREeIRERABJmZSohUREAERERKolVEQAREREozUVRABJmZRDNlFUAEREREQzZRUAREREREM2W1BJmZmZRDNlxUREREREQzZVREREREREMzVJmZmZmURDM0REREREREQzRERERERERAMAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAA"
        rel="icon" type="image/x-icon" />

  <title>RECEITUÁRIO</title>

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet">

  <style>
    body{font-family:sans-serif;}
    header img{margin-right:10px;}
    th{padding-top:10px;}
    .paciente td{width:100%; border-bottom:1px solid #000;} /* Ajustei borda pra aparecer */
    td input[type=text]{width:100%; height:28px; text-transform:uppercase; border-width:0 0 1px 0; font:inherit; border-color: #000;}
    #data{height:28px; border-width:0 0 1px 0; text-align:center; font:inherit}

    /* Quill editor height (screen) */
    #texto{height: 640px;}

    #medicamentos,button{padding:5px;}
    #page1{page-break-after: always;}

    /* ====== QUILL CONTENT: bigger font ====== */
    .ql-editor{
      font-size: 16px;
      line-height: 1.5;
      counter-reset: med-counter; /* numbering reset */
    }

    /* linha 1 do item (título) */
    .med-title{
      counter-increment: med-counter;
      padding-left: 28px;
      position: relative;
      margin: 0;
    }

    /* número automático só no título */
    .med-title::before{
      content: counter(med-counter) ".";
      position: absolute;
      left: 0;
      top: 0;
      font-weight: bold;
    }

    /* linha 2 do item (posologia) */
    .med-pos{
      padding-left: 28px;           /* alinha com o texto do título */
      margin: 2px 0 12px 0;        /* espaçamento entre itens */
      padding-bottom: 6px;
      border-bottom: 1px dashed #bbb;
    }

    /* evita “borda sobrando” se for o último */
    .med-pos:last-child{
      margin-bottom: 0;
      border-bottom: 0;
    }

    /* Screen-only */
    @media screen {
      .printonly{display:none;}
      #pagenum{display:none;}
    }

    /* Print */
    @media print {
      @page { size: A4 portrait; margin: 10mm; }
      html, body { margin: 0; padding: 0; }

      /* hide controls */
      .noprint, .ql-toolbar { display:none !important; }

      #pagenum{
        display:block !important;
        position: relative;      
        font-size: 14px;
        text-align: right;
        margin: 0 0 4mm 0;
        padding: 0;
      }

      /* always break between vias */
      #page1 { break-after: page; page-break-after: always; }

      /* editor: limit in mm to avoid pushing footer to next page */
      #texto{
        border: 0 !important;
        height: 160mm;      /* ajuste fino: 155–165mm */
        overflow: hidden;
      }

      /* slightly larger on print */
      .ql-editor{
        font-size: 17px;
        line-height: 1.45;
      }

      /* avoid splitting footer */
      h5 { break-inside: avoid; page-break-inside: avoid; }

      /* via labels */
      body.duasvias #page1 #pagenum span::after { content:"1ª VIA FARMÁCIA"; }
      body.duasvias #page2 #pagenum span::after { content:"2ª VIA PACIENTE"; }
      body:not(.duasvias) #page1 #pagenum span::after { content:"VIA ÚNICA"; }
    }

    /* Font configs */
    .ql-font-sans-serif { font-family: sans-serif; }
    .ql-font-serif { font-family: serif; }
    .ql-font-monospace { font-family: monospace; }
    .ql-font-roboto { font-family: "Roboto", sans-serif; }

    .ql-snow .ql-picker.ql-font .ql-picker-label[data-value="sans-serif"]::before
